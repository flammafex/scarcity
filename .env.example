# ==============================================================================
# SCARCITY ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env and customize as needed.
# Note: Scarcity primarily uses ~/.scarcity/config.json for configuration.
# These environment variables are used for service-level settings.

# ==============================================================================
# WEB WALLET CONFIGURATION
# ==============================================================================
# Port for the Web Wallet UI
# Default: 3000
# PORT=3000

# ==============================================================================
# NULLSCAPE EXPLORER CONFIGURATION
# ==============================================================================
# Port for the Nullscape Explorer
# Default: 3001
# EXPLORER_PORT=3001

# Database path for Explorer (SQLite)
# Default: ~/.scarcity/explorer.db
# EXPLORER_DB_PATH=~/.scarcity/explorer.db

# ==============================================================================
# CLI CONFIGURATION
# ==============================================================================
# Enable debug output for CLI commands
# Default: false
# DEBUG=true

# Configuration directory
# Default: ~/.scarcity/
# SCARCITY_CONFIG_DIR=~/.scarcity/

# ==============================================================================
# EXTERNAL SERVICE ENDPOINTS (Docker / Local Development)
# ==============================================================================
# These are automatically configured by docker-compose.yaml
# Override them for custom deployments or local testing

# Freebird Issuer endpoint
# Default (Docker): http://freebird-issuer:8081
# Default (Local): http://localhost:8081
# FREEBIRD_ISSUER_URL=http://localhost:8081

# Freebird Verifier endpoint
# Default (Docker): http://freebird-verifier:8082
# Default (Local): http://localhost:8082
# FREEBIRD_VERIFIER_URL=http://localhost:8082

# Witness Gateway endpoint
# Default (Docker): http://witness-gateway:8080
# Default (Local): http://localhost:8080
# WITNESS_GATEWAY_URL=http://localhost:8080

# HyperToken Relay WebSocket endpoint
# Default (Docker): ws://hypertoken-relay:8080
# Default (Local): ws://localhost:3000
# HYPERTOKEN_RELAY_URL=ws://localhost:3000

# ==============================================================================
# TOR CONFIGURATION (Optional)
# ==============================================================================
# Enable Tor proxy for anonymous networking
# Default: disabled
# TOR_ENABLED=false

# Tor SOCKS5 proxy address
# Default: socks5://127.0.0.1:9050
# TOR_PROXY=socks5://127.0.0.1:9050

# ==============================================================================
# NETWORK CONFIGURATION
# ==============================================================================
# Timeout for external service requests (milliseconds)
# Default: 30000 (30 seconds)
# REQUEST_TIMEOUT=30000

# Number of retries for failed requests
# Default: 3
# REQUEST_RETRIES=3

# ==============================================================================
# LOGGING
# ==============================================================================
# Log level (error, warn, info, debug, trace)
# Default: info
# LOG_LEVEL=info

# Log format (json, pretty)
# Default: pretty
# LOG_FORMAT=pretty

# ==============================================================================
# SECURITY
# ==============================================================================
# Enable CORS for Web Wallet (comma-separated origins)
# Default: * (all origins - NOT RECOMMENDED for production)
# CORS_ORIGINS=http://localhost:3000,https://myapp.example.com

# Session secret for Web Wallet (generate with: openssl rand -hex 32)
# Default: randomly generated (not persisted)
# SESSION_SECRET=your-secret-key-here

# ==============================================================================
# DEVELOPMENT / TESTING
# ==============================================================================
# Enable simulation mode (works without external services)
# Default: auto-detected (true if services unavailable)
# SIMULATION_MODE=false

# Enable verbose test output
# Default: false
# VERBOSE_TESTS=true

# Test timeout (milliseconds)
# Default: 60000 (60 seconds)
# TEST_TIMEOUT=60000

# ==============================================================================
# FREEBIRD ADMIN (Docker Only)
# ==============================================================================
# Admin API key for Freebird issuer (must be >= 32 characters)
# Default (Docker): dev-admin-key-must-be-at-least-32-characters-long
# Only needed if you're running your own Freebird instance
# FREEBIRD_ADMIN_API_KEY=your-admin-api-key-here

# Sybil resistance mode (invitation, pow, rate_limit, webauthn)
# Default (Docker): invitation
# FREEBIRD_SYBIL_RESISTANCE=invitation

# Bootstrap invitation users (format: username:invitation_count)
# Default (Docker): admin:100
# FREEBIRD_BOOTSTRAP_USERS=admin:100

# ==============================================================================
# WITNESS CONFIGURATION (Docker Only)
# ==============================================================================
# Witness network ID
# Default (Docker): docker
# WITNESS_NETWORK_ID=docker

# Witness threshold (minimum witnesses needed for consensus)
# Default (Docker): 1 (for testing - use 3-of-5 or 5-of-7 in production)
# WITNESS_THRESHOLD=1

# Maximum clock skew allowed (seconds)
# Default (Docker): 300 (5 minutes)
# WITNESS_MAX_CLOCK_SKEW=300

# ==============================================================================
# REDIS CONFIGURATION (Freebird Verifier - Docker Only)
# ==============================================================================
# Redis connection URL for Freebird verifier
# Default (Docker): redis://freebird-redis:6379
# REDIS_URL=redis://localhost:6379

# ==============================================================================
# DOCKER-SPECIFIC SETTINGS
# ==============================================================================
# These are set automatically by docker-compose.yaml
# Override them in docker-compose.override.yaml if needed

# Node environment
# NODE_ENV=development

# Rust log level (for Witness services)
# RUST_LOG=info

# ==============================================================================
# EXAMPLES FOR COMMON SCENARIOS
# ==============================================================================

# Example 1: Local development without Docker
# ------------------------------------------
# PORT=3000
# EXPLORER_PORT=3001
# DEBUG=true
# FREEBIRD_ISSUER_URL=http://localhost:8081
# FREEBIRD_VERIFIER_URL=http://localhost:8082
# WITNESS_GATEWAY_URL=http://localhost:8080
# HYPERTOKEN_RELAY_URL=ws://localhost:3000
# SIMULATION_MODE=true

# Example 2: Production deployment with Tor
# ------------------------------------------
# PORT=443
# EXPLORER_PORT=3001
# TOR_ENABLED=true
# TOR_PROXY=socks5://127.0.0.1:9050
# CORS_ORIGINS=https://scarcity.example.com
# SESSION_SECRET=<generate-with-openssl-rand-hex-32>
# LOG_LEVEL=warn
# LOG_FORMAT=json

# Example 3: Testing with custom endpoints
# ------------------------------------------
# FREEBIRD_ISSUER_URL=https://freebird-issuer.example.com
# FREEBIRD_VERIFIER_URL=https://freebird-verifier.example.com
# WITNESS_GATEWAY_URL=https://witness.example.com
# HYPERTOKEN_RELAY_URL=wss://relay.example.com
# VERBOSE_TESTS=true
# TEST_TIMEOUT=120000

# ==============================================================================
# NOTES
# ==============================================================================
# 1. Most configuration is stored in ~/.scarcity/config.json
# 2. Environment variables override config.json settings
# 3. Docker Compose automatically sets internal service URLs
# 4. Scarcity works in simulation mode without external services
# 5. For production, use Tor and proper TLS certificates
# 6. See TROUBLESHOOTING.md for common configuration issues
# 7. See README.md for complete documentation
